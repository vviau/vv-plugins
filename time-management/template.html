<div>
   <div class="row">
      <div class="col-md-12">
         <span class="page-title">
            <i class="fa fa-calendar" style="padding-right:5px"></i> Time Management</span>
      </div>
   </div>
   <div class="row">
      <div class="col-md-12">
         <uib-tabset active="selections.activeTab">
            <uib-tab>
               <uib-tab-heading>
                  <i class="fa dimensions"></i> Dimension
               </uib-tab-heading>
               <div class="row mt-3">
                  <div class="col-md-6">
                     <div class="card">
                        <div class="card-header" style="padding: 5px 10px;">
                           <label>
                              <i class="fa dimensions"></i> Dimension:
                           </label>
                        </div>
                        <div class="card-body">
                           <div class="row">
                              <div class="col-md-4 text-right">
                                 <label>
                                    Name:
                                 </label>
                              </div>
                              <div class="col-md-8">
                                 <input type="text" class="form-control" ng-model="selections.dimensionName" />
                              </div>
                           </div>
                           <div class="row mt-2">
                              <div class="col-md-4 text-right">
                                 <label>
                                    Leaf:
                                 </label>
                              </div>
                              <div class="col-md-8">
                                 <select class="form-control input-group-append" ng-model="selections.dimensionType" ng-options="t for t in lists.dimensionTypes">
                                    <option></option>
                                 </select>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="card mt-3">
                        <div class="card-header" style="padding: 5px 10px;">
                           <label>
                              <i class="fa fa-calendar"></i> Calendar:
                           </label>
                        </div>
                        <div class="card-body">
                           <div class="row mt-1">
                              <div class="col-md-6 text-right">
                                 <label>From:</label>
                              </div>
                              <div class="col-md-6">
                                 <span class="input-group" uib-dropdown is-open="startTimeIsOpen">
                                    <input type="text" class="form-control" ng-model="dateRangeStart" />
                                    <span class="input-group-append">
                                       <button id="dropdownStartTime" type="button" class="btn btn-light" uib-dropdown-toggle>
                                          <span class="fa fa-calendar"></span>
                                       </button>
                                       <span class="dropdown-menu" uib-dropdown-menu>
                                          <datetimepicker ng-model="dateRangeStart" datetimepicker-config="{modelType:'moment', startView:'day', minView:'day'}" on-set-time="startDateOnSetTime();startTimeIsOpen=!startTimeIsOpen"
                                             before-render="startDateBeforeRender($dates)" />
                                       </span>
                                    </span>
                                 </span>
                              </div>
                           </div>
                           <div class="row mt-1">
                              <div class="col-md-6 text-right">
                                 <label>To:</label>
                              </div>
                              <div class="col-md-6">
                                 <span class="input-group" uib-dropdown is-open="endTimeIsOpen">
                                    <input type="text" class="form-control" ng-model="dateRangeEnd" />
                                    <span class="input-group-append">
                                       <button id="dropdownEndTime" type="button" class="btn btn-light" uib-dropdown-toggle>
                                          <span class="fa fa-calendar"></span>
                                       </button>
                                       <span class="dropdown-menu" uib-dropdown-menu>
                                          <datetimepicker ng-model="dateRangeEnd" datetimepicker-config="{modelType:'moment', startView:'day', minView:'day'}" on-set-time="endDateOnSetTime();endTimeIsOpen=!endTimeIsOpen"
                                             before-render="endDateBeforeRender($view, $dates, $leftDate, $upDate, $rightDate)"
                                          />
                                       </span>
                                    </span>
                                 </span>
                              </div>
                           </div>
                           <div class="row mt-1">
                              <div class="col-md-6 text-right">
                                 <label>
                                    First Week Day:
                                 </label>
                              </div>
                              <div class="col-md-6 text-center">
                                 <select class="form-control input-group-append" ng-model="selections.startDayofWeek" ng-options="t for t in lists.weekDays">
                                    <option></option>
                                 </select>
                              </div>
                           </div>
                           <div class="row mt-1">
                              <div class="col-md-6 text-right">
                                 <label>First Fiscal Year Month:</label>
                              </div>
                              <div class="col-md-6 text-center">
                                 <select class="form-control input-group-append" ng-model="selections.fiscalYearStartMonth" ng-options="m for m in lists.months">
                                    <option></option>
                                 </select>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="col-md-6">
                     <div class="card">
                        <div class="card-header" style="padding: 5px 10px;">
                           <label>
                              <i class="fa fa-sliders"></i>
                              Options (
                              <a href class="click" ng-click="updateDimensionOptions()">
                                 <i class="fa fa-toggle-on text-success" ng-if="selections.allDimensionOptions"></i>
                                 <i class="fa fa-toggle-off" ng-if="!selections.allDimensionOptions"></i>
                              </a>):
                           </label>
                        </div>
                        <div class="card-body">
                           <div class="row mt-1" ng-repeat="option in dimensionOptions">
                              <div class="col-md-4 text-right">
                                 <label>
                                    {{option.name}}:
                                 </label>
                              </div>
                              <div class="col-md-8 text-center">
                                 <a href class="click" ng-click="option.value = !option.value">
                                    <i class="fa fa-toggle-on text-success" ng-if="option.value"></i>
                                    <i class="fa fa-toggle-off" ng-if="!option.value"></i>
                                 </a>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>

            </uib-tab>
            <uib-tab>
               <uib-tab-heading>
                  <i class="fa subset"></i> Elements
               </uib-tab-heading>
               <div class="row mt-3">
                  <div class="col-md-6">
                     <div class="card">
                        <div class="card-header" style="padding: 5px 10px;">
                           <label>
                              <i class="fa subset"></i> Leaf Element ID:
                           </label>
                        </div>
                        <div class="card-body">
                           <div class="row mt-1">
                              <div class="col-md-4 text-right">
                                 <label>
                                    {{selections.dimensionType}}:
                                 </label>
                              </div>
                              <div class="col-md-8 text-center">
                                 <select class="form-control input-group-append" ng-model="lists.dateFormats[selections.dimensionType].format" ng-options="f for f in  lists.dateFormats[selections.dimensionType].formats"
                                    ng-change="generateExample();generateDimension()">
                                    <option></option>
                                 </select>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-md-4 text-right"></div>
                              <div class="col-md-8">
                                 <label>{{examples[selections.dimensionType]}}</label>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="row">
                  <div class="col-md-6">
                     <div class="card">
                        <div class="card-header" style="padding: 5px 10px;">
                           <label>
                              <i class="fa subset"></i> Consolidations:</label>
                        </div>
                        <div class="card-body">
                           <div class="row mt-3" ng-repeat="dimensionType in lists.dimensionElements[selections.dimensionType]" ng-if="$index>0">
                              <div class="col-md-4 text-right">
                                 <label>{{dimensionType}}:</label>
                              </div>
                              <div class="col-md-4">
                                 <select class="form-control input-group-append" ng-model="lists.dateFormats[dimensionType].format" ng-options="f for f in  lists.dateFormats[dimensionType].formats"
                                    ng-change="generateExample();generateDimension()">
                                    <option></option>
                                 </select>
                              </div>
                              <div class="col-md-4 text-left">
                                 <label>{{examples[dimensionType]}}</label>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="col-md-6">
                     <div class="card">
                        <div class="card-header" style="padding: 5px 10px;">
                           <label>
                              <i class="fa fa-pencil-square-o"></i> Custom Separators:</label>
                        </div>
                        <div class="card-body">
                           <div class="row mt-3" ng-repeat="separator in lists.separators">
                              <div class="col-md-4 text-right">
                                 <label>
                                    {{separator.type}}:
                                 </label>
                              </div>
                              <div class="col-md-4">
                                 <input type="text" class="form-control mr-1" ng-model="separator.value" />
                              </div>
                              <div class="col-md-4 text-left">
                                 <label>
                                    {{examples[separator.type]}}
                                 </label>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </uib-tab>
            <uib-tab ng-if="dimensionOptions['Hierarchies'].value">
               <uib-tab-heading class="text-info">
                  <i class="fa fa-sliders"></i> Hierarchy
               </uib-tab-heading>
               <div class="row">
                  <div class="col-lg-3 col-md-6" ng-repeat="hierarchy in lists.hierarchies[selections.dimensionType]">
                     <div class="card mb-1">
                        <div class="card-header">
                           <span class="input-group">
                              <span class="input-group-text">Hierarchy {{$index+1}} (
                                 <a href class="click" ng-click="hierarchy.included = !hierarchy.included">
                                    <i class="fa fa-toggle-on text-success" ng-if="hierarchy.included"></i>
                                    <i class="fa fa-toggle-off" ng-if="!hierarchy.included"></i>
                                 </a>)</span>
                              <input type="text" class="form-control input-group-append" ng-model="hierarchy.name" />
                           </span>
                        </div>
                        <div class="card-body p-2" ng-if="hierarchy.included">

                           <ul class="list-group list-group-flush">
                              <li class="list-group-item p-1" ng-repeat="rollUp in hierarchy.rollUps" ng-class="{'list-group-item-info':rollUp.level=='level 0'}">
                                 <span class="input-group" ng-if="rollUp.level=='Top'">
                                    <input type="text" class="form-control" ng-model="rollUp.name" />
                                 </span>
                                 <span style="padding-left:{{($index)*10}}px" ng-if="rollUp.level!='Top'">
                                    <span ng-if="rollUp.level!='level 0'">-</span>
                                    <span ng-if="rollUp.level=='level 0'">#</span>
                                    {{examples[rollUp.name]}} ({{rollUp.name}})
                                 </span>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div>
            </uib-tab>
            <uib-tab ng-if="dimensionOptions['Aliases'].value">
               <uib-tab-heading class="text-info">
                  <i class="fa fa-sliders"></i> Alias
               </uib-tab-heading>
               <div class="auto-height">
                  <div class="card">
                     <div class="card-header" style="padding: 5px 10px;">
                        <label>
                           <span ng-repeat="alias in lists.aliases">
                              Alias {{$index+1}} (
                              <a href class="click" ng-click="alias.included = !alias.included">
                                 <i class="fa fa-toggle-on text-success" ng-if="alias.included"></i>
                                 <i class="fa fa-toggle-off" ng-if="!alias.included"></i>
                              </a>)
                           </span>
                        </label>
                     </div>
                     <div class="card-body">
                        <div class="row">
                           <div class="col-md-12">
                              <table class="table table-hover table-sm">
                                 <thead>
                                    <tr>
                                       <th> Levels </th>
                                       <th> Elements </th>
                                       <th class="text-center" ng-repeat="alias in lists.aliases" ng-if="alias.included">
                                          <span>
                                             Alias {{$index+1}}:
                                          </span>
                                          <span>
                                             <input type="text" class="form-control" ng-model="alias.name" />
                                          </span>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr ng-repeat="element in lists.dimensionElements[selections.dimensionType]">
                                       <td>
                                          <span>
                                             {{element}}
                                          </span>
                                       </td>
                                       <td>
                                          <span>
                                             {{examples[element]}}
                                          </span>
                                       </td>
                                       <td ng-repeat="alias in lists.aliases" ng-if="alias.included">
                                          <span class="input-group">
                                             <span class="col-md-7">
                                                <select class="form-control input-group-append" ng-model="lists.aliasesFomat[alias.id][element].format" ng-options="f for f in  lists.dateFormats[element].formats"
                                                   ng-change="">
                                                   <option></option>
                                                </select>
                                             </span>
                                             <span class="col-md-5">
                                                {{examples[element] | amDateFormat:lists.aliasesFomat[alias.id][element].format}}
                                             </span>
                                          </span>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </uib-tab>
            <uib-tab ng-if="dimensionOptions['Attributes'].value">
               <uib-tab-heading class="text-info">
                  <i class="fa fa-sliders"></i> Attributes
               </uib-tab-heading>
               <auto-height>
                  <table class="table table-hover table-sm">
                     <thead>
                        <tr>
                           <th> # </th>
                           <th> Attributes </th>
                           <th> Type </th>
                           <th> Description </th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr ng-repeat="attribute in lists.attributes[selections.dimensionType]">
                           <td>
                              <a href class="click" ng-click="attribute.included = !attribute.included">
                                 <i class="fa fa-toggle-on text-success" ng-if="attribute.included"></i>
                                 <i class="fa fa-toggle-off" ng-if="!attribute.included"></i>
                              </a>
                           </td>
                           <td> {{attribute.name}} </td>
                           <td>
                              {{attribute.type}}
                           </td>
                           <td>
                              {{attribute.desc}}
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </auto-height>
            </uib-tab>
            <uib-tab ng-if="dimensionOptions['Cumulatives'].value">
               <uib-tab-heading class="text-info">
                  <i class="fa fa-sliders"></i> Cumulatives
               </uib-tab-heading>
               <auto-height>
                  <table class="table table-hover table-sm">
                     <thead>
                        <tr>
                           <th> # </th>
                           <th> Cumulatives </th>
                           <th> Description </th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr ng-repeat="cumul in lists.cumuls[selections.dimensionType]">
                           <td>
                              <a href class="click" ng-click="cumul.included = !cumul.included">
                                 <i class="fa fa-toggle-on text-success" ng-if="cumul.included"></i>
                                 <i class="fa fa-toggle-off" ng-if="!cumul.included"></i>
                              </a>
                           </td>
                           <td> {{lists.cumulsDesc[cumul.id].name}} </td>
                           <td> {{lists.cumulsDesc[cumul.id].desc}} </td>
                        </tr>
                     </tbody>
                  </table>
               </auto-height>
            </uib-tab>
            <uib-tab ng-if="dimensionOptions['Relatives'].value">
               <uib-tab-heading class="text-info">
                  <i class="fa fa-sliders"></i> Relatives
               </uib-tab-heading>
               <auto-height>
                  <table class="table table-hover table-sm">
                     <thead>
                        <tr>
                           <th> # </th>
                           <th> Relatives </th>
                           <th> Description </th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr ng-repeat="relative in lists.relatives[selections.dimensionType]">
                           <td>
                              <a href class="click" ng-click="relative.included = !relative.included">
                                 <i class="fa fa-toggle-on text-success" ng-if="relative.included"></i>
                                 <i class="fa fa-toggle-off" ng-if="!relative.included"></i>
                              </a>
                           </td>
                           <td> {{lists.relativesDesc[relative.id].name}} </td>
                           <td> {{lists.relativesDesc[relative.id].desc}} </td>
                        </tr>
                     </tbody>
                  </table>
               </auto-height>
            </uib-tab>
            <uib-tab>
               <uib-tab-heading>
                  <i class="fa fa-eye"></i> Preview
               </uib-tab-heading>
               <div ng-repeat="element in lists.elements">
                  {{element}}
               </div>
            </uib-tab>
            <uib-tab>
               <uib-tab-heading>
                  <i class="fa fa-bolt"></i> Execute
               </uib-tab-heading>
            </uib-tab>
         </uib-tabset>
      </div>
   </div>
</div>