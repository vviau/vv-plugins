<div>
   <div class="row">
      <div class="col-md-12">
         <div class="row">
            <div class="col-md-12">
               <div class="card border-dark">
                  <div class="card-header bg-dark text-white" style="padding: 5px 10px;">
                     
                        <i class="fa fa-terminal" style="padding-right:5px" aria-hidden="true"></i>
                     
                     <span>  TI Console</span>
                  </div>
                  <div class="card-body" style="padding-top:5px">
                        <div class="row" style="margin-top:10px">
                           <div class="col-md-12" style="margin-top:2px;margin-bottom:2px" ng-repeat="func in newTiFunctions track by $index" ng-class="{'text-danger':func.icon == 'fa-warning','text-success':func.icon == 'fa-check-circle'}">
                              <div class="input-group">
                                 <div ng-if="newTiFunctions.length>1 && $index==0" uib-dropdown dropdown-append-to-body>
                                    <button uib-dropdown-toggle class="btn btn-primary">
                                       <span class="fa fa-pencil-square-o"></span>
                                    </button>
                                    <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="split-button">
                                       <li role="menuitem" ng-repeat="item in newTiFunctions" ng-if="$index>0">
                                          <div ng-click="newTiFunctions[0].function = item.function" style="margin-left:10px;cursor:pointer">
                                             <i class="fa {{item.icon}}" ng-class="{'text-danger':item.icon=='fa-warning','text-success':item.icon=='fa-check-circle'}">
                                             </i> {{item.instance}}>{{item.function}}</div>
                                       </li>
                                    </ul>
                                 </div>
                                 <div ng-if="$index==0" uib-dropdown dropdown-append-to-body>
                                    <button uib-dropdown-toggle class="btn btn-info">
                                       f(x)
                                    </button>
                                    <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="split-button">
                                       <li role="menuitem" ng-repeat="item in lists.allFunctionsCleaned">
                                          <div ng-click="newTiFunctions[0].function = item.snippet" style="margin-left:10px;cursor:pointer">
                                             {{item.value}}</div>
                                       </li>
                                    </ul>
                                 </div>
                                 <div ng-if="$index==0" uib-dropdown dropdown-append-to-body>
                                    <button uib-dropdown-toggle class="btn btn-info">
                                       {{func.instance}}
                                    </button>
                                    <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="split-button">
                                       <li role="menuitem" ng-repeat="instance in lists.instances">
                                          <div ng-click="func.instance = instance.Name" style="margin-left:10px;cursor:pointer">
                                             {{instance.Name}}</div>
                                       </li>
                                    </ul>
                                 </div>
                                 <i ng-if="func.message.length>0" class="fa fa-arrow-right" ng-class="{'fa-arrow-down':func.showMessage}" style="width:20px;margin-top:10px;cursor:pointer;font-size:1em"
                                    ng-click="func.showMessage=!func.showMessage"></i>
                                 <i ng-if="func.message.length==0" class="fa fa-check text-success" style="width:20px;margin-top:10px;cursor:pointer;font-size:1em"></i>
                                 <span class="text-right" style="margin-top:5px">

                                    <div ng-if="$index>0">{{func.instance}}></div>
                                 </span>
                                 <input ng-if="$index==0" class="form-control ng-pristine ng-untouched ng-valid ng-empty" style="border:none;border-radius:0;display:inline"
                                    type="text" ng-model="func.function" placeholder=">_" ng-keydown="key($event,$index,func.function,func.instance)"
                                    uib-typeahead="function.snippet for function in lists.allFunctionsCleaned | filter:$viewValue | limitTo:20"
                                    typeahead-append-to-body="true">
                                 <input ng-if="$index>0" ng-click="newTiFunctions[0].function = func.function;newTiFunctions[0].instance = func.instance"
                                    ng-desable="$index>0" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-class="{'text-danger':func.icon == 'fa-warning','text-success':func.icon == 'fa-check-circle'}"
                                    style="border:none;border-radius:0;cursor:pointer;display:inline" ng-model="func.function">
                              </div>
                              <div ng-if="func.showMessage">{{func.message}}</div>
                           </div>
                        </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>

</div>